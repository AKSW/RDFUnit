@prefix dc:      <http://purl.org/dc/elements/1.1/> .
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix tddg:    <http://databugger.aksw.org/generators#> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix tddo:    <http://databugger.aksw.org/ontology#> .
@prefix tddp:    <http://databugger.aksw.org/patterns#> .
@prefix tddt:    <http://databugger.aksw.org/tests#> .
@prefix dcterms:  <http://purl.org/dc/terms/> .

# TODO Check this one (http://www.seco.tkk.fi/publications/2012/suominen-hyvonen-skosify-2012.pdf)
# Missing language tags (equals dbo-CARD-rdfslabelforeachlanguage)
tddt:skos-CARD-rdfslabelforeachlanguage
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:CARD ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2000/01/rdf-schema#label> ;
      tddo:source <http://dbpedia.org/ontology/> ;
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2000/01/rdf-schema#label> ?v1 .
                                 GROUP BY ?s
                                 HAVING count(?v1) > 20 } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s <http://www.w3.org/2000/01/rdf-schema#label> ?v1 . } """ .

# http://www.seco.tkk.fi/publications/2012/suominen-hyvonen-skosify-2012.pdf
# Missing rdfs:label in <http://www.w3.org/2004/02/skos/core#ConceptScheme>
tddt:skos-TYPRODEP-ConseptSchemeWithoutRdfslabel
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:TYPRODEP ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#ConceptScheme> ;
      tddo:references <http://www.w3.org/2000/01/rdf-schema#label> ;
      tddo:source <http://dbpedia.org/ontology/> ;	
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s a <http://www.w3.org/2004/02/skos/core#ConceptScheme> .
                                 FILTER NOT EXISTS {?s <http://www.w3.org/2000/01/rdf-schema#label> ?v1 } } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s a <http://www.w3.org/2004/02/skos/core#ConceptScheme> . } """ .

# http://www.seco.tkk.fi/publications/2012/suominen-hyvonen-skosify-2012.pdf
# Missing rdfs:label in <http://www.w3.org/2004/02/skos/core#Concept>
tddt:skos-TYPRODEP-ConseptWithoutRdfslabel
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:TYPRODEP ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#Concept> ;
      tddo:references <http://www.w3.org/2000/01/rdf-schema#label> ;
      tddo:source <http://dbpedia.org/ontology/> ;
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s a <http://www.w3.org/2004/02/skos/core#Concept> .
                                 FILTER NOT EXISTS {?s <http://www.w3.org/2000/01/rdf-schema#label> ?v1 } } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s a <http://www.w3.org/2004/02/skos/core#Concept> . } """ .
                                 
# Loose Concepts

# AmbiguousprefLabelvalues
# skos:prefLabel cannot exists more than once 
tddt:skos-CARD-prefLabel
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:CARD ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#prefLabel> ;
      tddo:source <http://dbpedia.org/ontology/> ;
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#prefLabel> ?v1 .
                                 GROUP BY ?s
                                 HAVING count(?v1) > 1 } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#prefLabel> ?v1 . } """ .

# Overlap in Disjoint Label Properties
# skos:prefLabel is not a skos:altLabel
tddt:skos-OWLDISJP-skosaltpreflabel
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:OWLDISJP ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#prefLabel> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#altLabel> ;
      tddo:source <http://dbpedia.org/ontology/> ;	
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#prefLabel> ?v1 .
                                 ?s <http://www.w3.org/2004/02/skos/core#altLabel> ?v1 } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s a <http://www.w3.org/2004/02/skos/core#prefLabel> . } """ .


# skos:prefLabel is not a skos:hiddenLabel
tddt:skos-OWLDISJP-skoshiddenpreflabel
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:OWLDISJP ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#prefLabel> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#hiddenLabel> ;
      tddo:source <http://dbpedia.org/ontology/> ;	
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#prefLabel> ?v1 .
                                 ?s <http://www.w3.org/2004/02/skos/core#hiddenLabel> ?v1 } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s a <http://www.w3.org/2004/02/skos/core#prefLabel> . } """ .

                                 
# skos:altLabel is not a skos:hiddenLabel
tddt:skos-OWLDISJP-skosalthiddenlabel
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:OWLDISJP ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#altLabel> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#hiddenLabel> ;
      tddo:source <http://dbpedia.org/ontology/> ;	
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#altLabel> ?v1 .
                                 ?s <http://www.w3.org/2004/02/skos/core#hiddenLabel> ?v1 } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s a <http://www.w3.org/2004/02/skos/core#altLabel> . } """ .

                                 
# Consistent Use of Mapping Properties
# skos:exactMatch is not a skos:broadMatch
tddt:skos-OWLDISJP-skosexactbroadmatch
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:OWLDISJP ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#exactMatch> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#broadMatch> ;
      tddo:source <http://dbpedia.org/ontology/> ;	
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#exactMatch> ?v1 .
                                 ?s <http://www.w3.org/2004/02/skos/core#broadMatch> ?v1 } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s a <http://www.w3.org/2004/02/skos/core#exactMatch> . } """ .


# skos:exactMatch is not a skos:broadMatch
tddt:skos-OWLDISJP-skosexactrelatedmatch
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:OWLDISJP ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#exactMatch> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#relatedMatch> ;
      tddo:source <http://dbpedia.org/ontology/> ;	
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#exactMatch> ?v1 .
                                 ?s <http://www.w3.org/2004/02/skos/core#relatedMatch> ?v1 } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s a <http://www.w3.org/2004/02/skos/core#exactMatch> . } """ .
                         
                         
# Disjoint Semantic Relations
# skos:related is not a skos:broaderTransitive
tddt:skos-OWLDISJP-skosrelatedbroadertransitive
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:OWLDISJP ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#related> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#broaderTransitive> ;
      tddo:source <http://dbpedia.org/ontology/> ;	
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#related> ?v1 .
                                 ?s <http://www.w3.org/2004/02/skos/core#broaderTransitive> ?v1 } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s a <http://www.w3.org/2004/02/skos/core#related> . } """ .
                         

# Cycles inbroaderHierarchy

# Extra Whitespace
# skos:altLabel whitespace
tddt:skos-MATCH-altlabelwhitespace
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:MATCH ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#altLabel> ;
      tddo:source <http://dbpedia.org/ontology/> ;
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#altLabel> ?v1 .
                                 FILTER (! regex(str(?v1), "^[ \t]+|[ \t]+$")) } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#altLabel> ?v1 . } """ .

# skos:prefLabel whitespace
tddt:skos-MATCH-preflabelwhitespace
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:MATCH ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#prefLabel> ;
      tddo:source <http://dbpedia.org/ontology/> ;
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#prefLabel> ?v1 .
                                 FILTER (! regex(str(?v1), "^[ \t]+|[ \t]+$")) } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#prefLabel> ?v1 . } """ .
                                
# skos:hiddenLabel whitespace
tddt:skos-MATCH-hiddenlabelwhitespace
      a       tddo:Test ;
      tddo:appliesTo <http://databugger.aksw.org/ontology/Schema> ;
      tddo:basedOnPattern tddp:MATCH ;
      tddo:generated <http://databugger.aksw.org/ontology/Manual> ;
      tddo:references <http://www.w3.org/2004/02/skos/core#hiddenLabel> ;
      tddo:source <http://dbpedia.org/ontology/> ;
      tddo:sparql """ SELECT DISTINCT ?s WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#hiddenLabel> ?v1 .
                                 FILTER (! regex(str(?v1), "^[ \t]+|[ \t]+$")) } """ ;
      tddo:sparqlPrevalence """ SELECT (count(?s) AS ?total) WHERE {
                                 ?s <http://www.w3.org/2004/02/skos/core#hiddenLabel> ?v1 . } """ .
                
                