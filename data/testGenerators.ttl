@prefix tddd: <http://databugger.aksw.org/patterns#> .
@prefix tddo: <http://databugger.aksw.org/ontology#> .
@prefix tddg: <http://databugger.aksw.org/generators#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .

##########################################
#### rdfs:range pattern
##########################################

tddg:RDFSRANGE a tddo:TestGenerator ;
    dcterms:description """Generate all rdfs:range constrains defined in a schema"""@en ;
    tddo:generatorSPARQL """ select distinct ?P1 ('+' as ?OP) ?T1 where {
                             ?P1 rdfs:range ?T1 .
                             FILTER ( (str(?T1) != "http://www.w3.org/2002/07/owl#Thing") ||
                                      (str(?T1) != "http://www.w3.org/2000/01/rdf-schema#Literal") )} """ ;
    tddo:basedOnPattern tddd:RDFSRANGE .


##########################################
#### rdfs:domain pattern
##########################################

tddg:RDFSDOMAIN a tddo:TestGenerator ;
    dcterms:description """Generate all rdfs:domain constrains defined in a schema"""@en ;
    tddo:generatorSPARQL """ select distinct ?P1 ('?v1' as ?V1) ('+' as ?OP) ?T1 where {
                             ?P1 rdfs:domain ?T1 .
                             FILTER ( str(?T1) != "http://www.w3.org/2002/07/owl#Thing") } """ ;
    tddo:basedOnPattern tddd:RDFSDOMAIN .


##########################################
#### owl:disjointClass pattern
##########################################

tddg:OWLDISJC a tddo:TestGenerator ;
    dcterms:description """Generate all owl:dosjointWith constrains defined in a schema"""@en ;
    tddo:generatorSPARQL """ SELECT DISTINCT ?T1 ?T2 WHERE {
                             ?T1 owl:disjointWith ?T2 . } """ ;
    tddo:basedOnPattern tddd:OWLDISJC .

##########################################
#### owl cardinality constrains generators
##########################################

tddg:OWLCARD a tddo:TestGenerator ;
    dcterms:description """Generates owl:cardinality constrains defined in a schema"""@en ;
    tddo:generatorSPARQL """ SELECT DISTINCT ?P1 ('!=' as ?OP) (str(?v)  as ?V2) WHERE {
                             ?P1 owl:cardinality ?v . } """ ;
    tddo:basedOnPattern tddd:OWLCARD .

tddg:OWLCARDEX a tddo:TestGenerator ;
    dcterms:description """ Generates owl:cardinality constrains. We ensure that the property exists at least once"""@en ;
    tddo:generatorSPARQL """ SELECT DISTINCT ?T1 ('+' as ?OP) ?P1 WHERE {
                             ?P1 owl:cardinality ?v .
                             ?P1 rdfs:domain ?T1 .
                             FILTER (?v > 0) .} """ ;
    tddo:basedOnPattern tddd:TYPRODEP .

tddg:OWLCARD-MIN a tddo:TestGenerator ;
    dcterms:description """Generates owl:minCardinality constrains defined in a schema"""@en ;
    tddo:generatorSPARQL """ SELECT DISTINCT ?P1 ('<=' as ?OP) (str(?v)  as ?V2) WHERE {
                             ?P1 owl:minCardinality ?v . } """ ;
    tddo:basedOnPattern tddd:OWLCARD .

tddg:OWLCARDEX-MIN a tddo:TestGenerator ;
    dcterms:description """ Generates owl:minCardinality constrains. We ensure that the property exists at least once"""@en ;
    tddo:generatorSPARQL """ SELECT DISTINCT ?T1 ('+' as ?OP) ?P1 WHERE {
                             ?P1 owl:minCardinality ?v .
                             ?P1 rdfs:domain ?T1 .
                             FILTER (?v > 0) .} """ ;
    tddo:basedOnPattern tddd:TYPRODEP .

tddg:OWLCARD-MAX a tddo:TestGenerator ;
    dcterms:description """Generates owl:cardinality constrains defined in a schema"""@en ;
    tddo:generatorSPARQL """ SELECT DISTINCT ?P1 ('>' as ?OP) (str(?v)  as ?V2) WHERE {
                             ?P1 owl:maxCardinality ?v . } """ ;
    tddo:basedOnPattern tddd:OWLCARD .

##########################################
#### owl functional property constrains generators
##########################################

tddg:OWLFUNC a tddo:TestGenerator ;
    dcterms:description """ Generates owl:FunctionalProperty constrains. IF the property exists we ensure it exists only once"""@en ;
    tddo:generatorSPARQL """ SELECT DISTINCT ?P1 ('!=' as ?OP) ('1'  as ?V1) WHERE {
                             ?P1 rdf:type+ owl:FunctionalProperty . } """ ;
    tddo:basedOnPattern tddd:OWLCARD .

tddg:OWLFUNCEX a tddo:TestGenerator ;
    dcterms:description """ Generates owl:FunctionalProperty constrains. We ensure that the property exists at least once"""@en ;
    tddo:generatorSPARQL """ SELECT DISTINCT ?T1 ('+' as ?OP) ?P1 WHERE {
                             ?P1 rdf:type+ owl:FunctionalProperty .
                             ?P1 rdfs:domain ?T1 .} """ ;
    tddo:basedOnPattern tddd:TYPRODEP .